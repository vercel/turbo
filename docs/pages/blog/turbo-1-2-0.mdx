---
title: Turborepo 1.2
date: 2022/04/06
description: Turborepo 1.2 introduces improved task filtering, artifact signing and integrity, and more!
tag: web development
ogImage: /images/blog/turbo-1-2-0/twitter-card.png
---

# Turborepo 1.2

import { Authors } from '../../components/Authors'

<Authors authors={['jaredpalmer', 'becca__z', 'gaspargarcia_', 'gsoltis']} />

Since releasing Turborepo v1.1 in late January, we've seen incredible adoption and community growth:

- 6.5k+ GitHub Stars
- 140k+ weekly NPM downloads (up 2x since our [last blog post for v1.1](/blog/turbo-1-1-0))
- 90+ OSS contributors
- 900+ members of the [Turborepo Community Discord](https://turborepo.org/discord)
- 1.6 years of Time Saved through Remote Caching on Vercel, saving +2.5 months per week now

We're further improving ergonomics, observability, and security with Turborepo v1.2 featuring:

- [**New Task Filtering API**](#new-task-filtering-api): `--filter` flag adds more expressive and intuitive task filtering capabilities to `turbo run`
- [**Human-readable and JSON dry runs**](#debug-and-automate-with---dry-run): `--dry-run` flag can print out information about a `turbo run` without executing any tasks, in both human and JSON-parse friendly formats
- [**Improved Internal Scheduler and Graph**](#improved-internal-scheduler-and-graph): We refactored `turbo` 's internal scheduler and graph to be more ergonomic and predictable
- [**Enhanced Remote Cache Security**](#cache-outputs-integrity-and-signature-verification): Cryptographically sign remote cache artifacts with your own key phrase

Update today by running `npm install turbo@latest`. After running `turbo run` for the first time, you'll see instructions about how to use `@turbo/codemod` to run automatic migrations for `v1.2`.

## New Task Filtering API

We are excited to release one of our most requested features: the ability to expressively filter tasks through a `--filter` flag. The `--filter` flag is the much more intuitive successor to the current combination of `--scope`, `--include-dependencies`, `--since`, and `--no-deps` flags. With `--filter` you can tell `turbo` to restrict executing commands to a subset of matched packages in your monorepo based on name, folder, and by whether it has changed since a git commit ref like so:

- `--filter=<package_name>` - match by exact package name or glob pattern
- `--filter=...<package_name>`- match by package name/glob and include all dependent packages of match(es)
- `--filter=...^<package_name>`- match by package name/glob and include all dependent packages of match(es), but exclude itself/themselves
- `--filter=<package_name>...` - match by name and include all matched package's dependencies
- `--filter=<package_name>^...` - match by name/glob and include all matched package dependencies, but not itself/themselves
- `--filter={./path/to/package}` - match by path or filesystem glob pattern
- `--filter=[origin/main]` - match by changed packages since a git commit

You can use multiple filters together to get even more granular filtering as well as combine each part of the above patterns `{}`, `[]` , `^` , and `...` to express more complex behavior.

For example, assuming you have an app located in `./apps/web` directory, some local packages that it uses as dependencies, and a Turborepo pipeline where `test` depends on `^build` topologically, running:

```jsx
turbo run test --filter={./apps/web}[HEAD^1]^...
```

would tell `turbo` to ensure that dependencies are built and to run the `test` script in all of the local dependencies of the app located in `./apps/web`, not including that app itself, if the app has changed since HEAD^1.

We believe `--filter` is more expressive and intuitive than `--scope`. In the future, we will be slowly deprecating the `--scope` flag.

For more details and examples, refer to the new [filtering documentation.](/docs/features/filter)

## Debug and Automate with `--dry-run`

You can now see the impact of `turbo run` without actually executing any commands by appending either `--dry-run` or `--dry-run=json` to any `turbo run` command. This will result in either human or JSON output.

Dry runs are incredibly useful for two main situations:

- Debugging and testing run options
- Using `turbo` filtering and task graphs for building automations

![Turborepo Dry Run](/images/blog/turbo-1-2-0/turbo-dry-run.png)

We hope that this will assist with enhancing observability and debugging, as well as make it easier to leverage `turbo` in dynamic CI/CD systems.

## Improved internal scheduler and graph

When using `turbo run`, every `package.json` task is added to an internal graph to map dependencies based on the inferred relationships defined in your Turborepo `pipeline`. This task graph allows Turborepo to efficiently schedule incremental concurrent task running and cache task outputs for later use.

We've made major improvements to the internal task scheduler and resulting graph structure, resulting in better performance and a better developer experience. For example, in many cases, you will no longer need to use `--include-dependencies`. Instead, after specifying your task entry points, the new and improved graph will automatically handle this graph resolution for you.

## Cache Outputs Integrity and Signature Verification

You can now enable Turborepo to sign remote cache outputs using HMAC-SHA256 with a secret key before uploading them to the Remote Cache. When signed cache artifacts are downloaded, Turborepo will now verify the artifact's integrity and authenticity. Any artifact that fails to verify will be ignored, discarded, and treated as a cache miss by Turborepo.

To enable this feature, set the `remoteCache` options on your `turbo.json` config file to include `signature: true`. Then specify your secret key by declaring the `TURBO_REMOTE_CACHE_SIGNATURE_KEY` environment variable.

```jsonc
{
  "$schema": "[https://turborepo.org/schema.json](https://turborepo.org/schema.json)",
  "remoteCache": {
    // Indicates if signature verifcation is enabled.
    "signature": true
  }
}
```

## Other bug fixes and improvements

- `--sso-team` flag now enables teams with SAML tokens to log in through `turbo login` with correct team permissions
- `--log-output` flag allows you to control what logs are printed to the terminal, and when, allowing you to focus only on what's new
- `FORCE_COLOR` environment variable is now supported
- `TURBO_FORCE=true` environment variable will now force execution
- `--remote-only` and `TURBO_REMOTE_ONLY=true` will tell `turbo` to only use Remote Caching
- We now show `>>> FULL TURBO` when there's at least one task attempted

## We're hiring!

The Turborepo team at [Vercel](https://vercel.com) is hiring! We're up to 5 core team members already this year and are looking to hire even more. We're specifically looking for full time [Senior Build Systems Engineers](https://vercel.com/careers/senior-build-systems-engineer-turborepo-us-4383106004).

## What's next?

[Since our launch](https://turborepo.org/blog/joining-vercel), Turborepo has focused on seamless incremental adoption/migration and speeding up CI/CD. We are committed to both of those values, but now we'll also be focusing on improving Turborepo's day-to-day ergonomics for local development and observability. We're really excited about this next chapter and will be sharing more details soon.
