import Callout from "../../../components/Callout";
import HeartIcon from "@heroicons/react/solid/HeartIcon";
import { Tabs, Tab } from "../../../components/Tabs";

# Workspaces

Workspaces help with working on multiple apps and packages in the same codebase. Your package manager will determine how your apps and packages are organized in your workspaces and run in your turborepo.

## Configuring workspaces

To use workspaces, you must first declare their file system locations to your package manager.

A common convention we recommend is having top-level `apps/` and `packages/` directories. This isn't a requirement but just a suggested directory structure. The `apps` folder can contain workspaces for launchable apps, such as a [Next.js](https://nextjs.org/) or [Svelte](https://svelte.dev/) app. The `packages` folder can contain workspaces for packages used by either an app or another package.

<Callout>
Unlike a single-package repository, you'll need to consider how to name your workspaces. If you avoid `npm` naming collisions, you can use an npm organization or user scope to namespace your workspaces. For example, you might set the `name` key in `./apps/api/package.json` to `@mycompany/api`.
</Callout>

<Tabs items={['npm', 'yarn', 'pnpm']} storageKey="selected-pkg-manager">
  <Tab>

    Add the folders you want to configure as workspaces to the `workspaces` field in your root `package.json` file. This field contains a list of workspace folders in the form of globs:

    ```json
    {
      "name": "monorepo",
      "version": "1.0.0",
      "workspaces": [
        "docs",
        "apps/*",
        "packages/*"
      ]
    }
    ```

  </Tab>
  <Tab>

    Add the folders you want to configure as workspaces to the `workspaces` field in your root `package.json` file. This field contains a list of workspace folders in the form of globs:

    ```json
    {
      "name": "monorepo",
      "version": "1.0.0",
      "workspaces": [
        "docs",
        "apps/*",
        "packages/*"
      ]
    }
    ```

  </Tab>

  <Tab>

    Add the folders you want to configure as workspaces to the `pnpm-workspace.yaml` file that exists in your root directory. This file contains a list of workspace folders in the form of globs:

    ```yaml
    packages:
      - "docs"
      - "apps/*"
      - "packages/*"
    ```

  </Tab>
</Tabs>

```
monorepo/
├─ docs/
├─ apps/
│  ├─ api/
│  ├─ mobile/
├─ packages/
│  ├─ tsconfig/
│  ├─ config/
├─ sdk/
```

In the example above, all directories inside `monorepo/apps/` and `monorepo/packages/` are workspaces, and the `monorepo/docs` directory itself is also a workspace. `monorepo/sdk/` is _not_ a workspace, as it is not included in the workspace configuration.

## Managing workspaces

When you move, delete, or rename your workspaces, you must ensure that all folders linked within your `package.json` should match. Anytime you change your workspace configuration, provide all the dependencies of the workspace that are updated. Re-run your package manager's install command to check your configuration. If there are problems after that, you may have to delete your `node_modules` folder and re-run an install.
